<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}}</title>
    <meta http-equiv="refresh" content="10">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        background: '#09090b',
                        foreground: '#fafafa',
                        card: '#18181b',
                        'card-foreground': '#fafafa',
                        muted: '#27272a',
                        'muted-foreground': '#a1a1aa',
                        border: '#27272a',
                    }
                }
            }
        }
    </script>
    <style>
        /* Heartbeat animations */
        @keyframes heartbeat {
            0%, 100% { height: 4px; opacity: 0.4; }
            50% { height: 20px; opacity: 1; }
        }
        @keyframes heartbeat-slow {
            0%, 100% { height: 4px; opacity: 0.3; }
            50% { height: 14px; opacity: 0.7; }
        }
        @keyframes heartbeat-erratic {
            0%, 100% { height: 4px; opacity: 0.4; }
            20% { height: 18px; opacity: 1; }
            40% { height: 6px; opacity: 0.5; }
            60% { height: 22px; opacity: 1; }
            80% { height: 8px; opacity: 0.6; }
        }
        @keyframes pulse-dot {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-heartbeat { animation: heartbeat 1.5s ease-in-out infinite; }
        .animate-heartbeat-slow { animation: heartbeat-slow 2.5s ease-in-out infinite; }
        .animate-heartbeat-erratic { animation: heartbeat-erratic 1.8s ease-in-out infinite; }
        .animate-heartbeat-none { animation: none; height: 4px !important; }
        .animate-pulse-dot { animation: pulse-dot 2s ease-in-out infinite; }
        .heartbeat-bar:nth-child(1) { animation-delay: 0s; }
        .heartbeat-bar:nth-child(2) { animation-delay: 0.1s; }
        .heartbeat-bar:nth-child(3) { animation-delay: 0.2s; }
        .heartbeat-bar:nth-child(4) { animation-delay: 0.3s; }
        .heartbeat-bar:nth-child(5) { animation-delay: 0.4s; }

        /* Powered by tab hover */
        .powered-tab:hover {
            transform: translateY(-3px);
        }
    </style>
</head>
<body class="bg-background text-foreground min-h-screen flex items-center justify-center p-4 font-sans antialiased">
    <div class="w-full max-w-lg">
        <div class="relative pb-4">
        <div class="bg-gradient-to-br from-card via-card to-background border border-border rounded-2xl overflow-hidden shadow-2xl relative z-10">
            {{if .Error}}
            <!-- Error State -->
            <div class="relative p-6 border-b border-border">
                <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-500 to-red-400"></div>
                <div class="flex items-start gap-4">
                    <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-gradient-to-br from-red-500/20 to-red-400/20 flex items-center justify-center relative">
                        <div class="absolute inset-0 rounded-xl bg-red-500/20 blur-xl"></div>
                        <div class="flex items-center gap-0.5 h-6 relative">
                            <div class="heartbeat-bar w-[3px] bg-red-500 rounded-sm animate-heartbeat-erratic"></div>
                            <div class="heartbeat-bar w-[3px] bg-red-500 rounded-sm animate-heartbeat-erratic"></div>
                            <div class="heartbeat-bar w-[3px] bg-red-500 rounded-sm animate-heartbeat-erratic"></div>
                            <div class="heartbeat-bar w-[3px] bg-red-500 rounded-sm animate-heartbeat-erratic"></div>
                            <div class="heartbeat-bar w-[3px] bg-red-500 rounded-sm animate-heartbeat-erratic"></div>
                        </div>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h1 class="text-xl font-bold tracking-tight truncate">{{.Title}}</h1>
                        <div class="flex items-center gap-2 mt-1 flex-wrap">
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide bg-red-500/15 text-red-500">Error</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-6 text-center">
                <svg class="w-12 h-12 mx-auto mb-4 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
                <h2 class="text-base font-semibold mb-2">Connection Error</h2>
                <div class="text-sm text-red-400 bg-red-500/10 border border-red-500/20 rounded-lg p-3">{{.Error}}</div>
            </div>

            {{else if .Server}}
            {{$statusClass := "stopped"}}
            {{$statusText := "Offline"}}
            {{$gradientFrom := "zinc-500"}}
            {{$gradientTo := "zinc-400"}}
            {{$heartbeatAnim := "animate-heartbeat-none"}}
            {{if eq .Server.Status 1}}
                {{$statusClass = "creating"}}{{$statusText = "Creating"}}
                {{$gradientFrom = "blue-500"}}{{$gradientTo = "blue-400"}}
                {{$heartbeatAnim = "animate-heartbeat-slow"}}
            {{else if eq .Server.Status 2}}
                {{$statusClass = "starting"}}{{$statusText = "Starting"}}
                {{$gradientFrom = "yellow-500"}}{{$gradientTo = "yellow-400"}}
                {{$heartbeatAnim = "animate-heartbeat-slow"}}
            {{else if eq .Server.Status 3}}
                {{$statusClass = "running"}}{{$statusText = "Online"}}
                {{$gradientFrom = "green-500"}}{{$gradientTo = "emerald-500"}}
                {{$heartbeatAnim = "animate-heartbeat"}}
            {{else if eq .Server.Status 4}}
                {{$statusClass = "stopping"}}{{$statusText = "Stopping"}}
                {{$gradientFrom = "yellow-500"}}{{$gradientTo = "yellow-400"}}
                {{$heartbeatAnim = "animate-heartbeat-slow"}}
            {{else if eq .Server.Status 6}}
                {{$statusClass = "restarting"}}{{$statusText = "Restarting"}}
                {{$gradientFrom = "yellow-500"}}{{$gradientTo = "yellow-400"}}
                {{$heartbeatAnim = "animate-heartbeat-slow"}}
            {{else if eq .Server.Status 7}}
                {{$statusClass = "error"}}{{$statusText = "Error"}}
                {{$gradientFrom = "red-500"}}{{$gradientTo = "red-400"}}
                {{$heartbeatAnim = "animate-heartbeat-erratic"}}
            {{else if eq .Server.Status 8}}
                {{$statusClass = "unhealthy"}}{{$statusText = "Unhealthy"}}
                {{$gradientFrom = "purple-500"}}{{$gradientTo = "purple-400"}}
                {{$heartbeatAnim = "animate-heartbeat-erratic"}}
            {{end}}

            <!-- Header -->
            <div class="relative p-6 border-b border-border">
                <!-- Status gradient bar -->
                {{if eq $statusClass "running"}}
                <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-500 to-emerald-500"></div>
                {{else if or (eq $statusClass "starting") (eq $statusClass "stopping") (eq $statusClass "restarting")}}
                <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-yellow-500 to-yellow-400"></div>
                {{else if or (eq $statusClass "error") (eq $statusClass "unhealthy")}}
                <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-500 to-red-400"></div>
                {{else if eq $statusClass "creating"}}
                <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-blue-400"></div>
                {{else}}
                <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-zinc-500 to-zinc-400"></div>
                {{end}}

                <div class="flex items-start gap-4">
                    <!-- Status indicator with heartbeat -->
                    <div class="flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center relative
                        {{if eq $statusClass "running"}}bg-gradient-to-br from-green-500/20 to-emerald-500/20
                        {{else if or (eq $statusClass "starting") (eq $statusClass "stopping") (eq $statusClass "restarting")}}bg-gradient-to-br from-yellow-500/20 to-yellow-400/20
                        {{else if or (eq $statusClass "error") (eq $statusClass "unhealthy")}}bg-gradient-to-br from-red-500/20 to-red-400/20
                        {{else if eq $statusClass "creating"}}bg-gradient-to-br from-blue-500/20 to-blue-400/20
                        {{else}}bg-gradient-to-br from-zinc-500/20 to-zinc-400/20{{end}}">
                        <div class="absolute inset-0 rounded-xl blur-xl opacity-40
                            {{if eq $statusClass "running"}}bg-green-500
                            {{else if or (eq $statusClass "starting") (eq $statusClass "stopping") (eq $statusClass "restarting")}}bg-yellow-500
                            {{else if or (eq $statusClass "error") (eq $statusClass "unhealthy")}}bg-red-500
                            {{else if eq $statusClass "creating"}}bg-blue-500
                            {{else}}bg-zinc-500{{end}}"></div>
                        <div class="flex items-center gap-0.5 h-6 relative">
                            {{if eq $statusClass "running"}}
                            <div class="heartbeat-bar w-[3px] bg-green-500 rounded-sm animate-heartbeat"></div>
                            <div class="heartbeat-bar w-[3px] bg-green-500 rounded-sm animate-heartbeat"></div>
                            <div class="heartbeat-bar w-[3px] bg-green-500 rounded-sm animate-heartbeat"></div>
                            <div class="heartbeat-bar w-[3px] bg-green-500 rounded-sm animate-heartbeat"></div>
                            <div class="heartbeat-bar w-[3px] bg-green-500 rounded-sm animate-heartbeat"></div>
                            {{else if or (eq $statusClass "starting") (eq $statusClass "stopping") (eq $statusClass "restarting")}}
                            <div class="heartbeat-bar w-[3px] bg-yellow-500 rounded-sm animate-heartbeat-slow"></div>
                            <div class="heartbeat-bar w-[3px] bg-yellow-500 rounded-sm animate-heartbeat-slow"></div>
                            <div class="heartbeat-bar w-[3px] bg-yellow-500 rounded-sm animate-heartbeat-slow"></div>
                            <div class="heartbeat-bar w-[3px] bg-yellow-500 rounded-sm animate-heartbeat-slow"></div>
                            <div class="heartbeat-bar w-[3px] bg-yellow-500 rounded-sm animate-heartbeat-slow"></div>
                            {{else if or (eq $statusClass "error") (eq $statusClass "unhealthy")}}
                            <div class="heartbeat-bar w-[3px] bg-red-500 rounded-sm animate-heartbeat-erratic"></div>
                            <div class="heartbeat-bar w-[3px] bg-red-500 rounded-sm animate-heartbeat-erratic"></div>
                            <div class="heartbeat-bar w-[3px] bg-red-500 rounded-sm animate-heartbeat-erratic"></div>
                            <div class="heartbeat-bar w-[3px] bg-red-500 rounded-sm animate-heartbeat-erratic"></div>
                            <div class="heartbeat-bar w-[3px] bg-red-500 rounded-sm animate-heartbeat-erratic"></div>
                            {{else if eq $statusClass "creating"}}
                            <div class="heartbeat-bar w-[3px] bg-blue-500 rounded-sm animate-heartbeat-slow"></div>
                            <div class="heartbeat-bar w-[3px] bg-blue-500 rounded-sm animate-heartbeat-slow"></div>
                            <div class="heartbeat-bar w-[3px] bg-blue-500 rounded-sm animate-heartbeat-slow"></div>
                            <div class="heartbeat-bar w-[3px] bg-blue-500 rounded-sm animate-heartbeat-slow"></div>
                            <div class="heartbeat-bar w-[3px] bg-blue-500 rounded-sm animate-heartbeat-slow"></div>
                            {{else}}
                            <div class="heartbeat-bar w-[3px] bg-zinc-500 rounded-sm h-1"></div>
                            <div class="heartbeat-bar w-[3px] bg-zinc-500 rounded-sm h-1"></div>
                            <div class="heartbeat-bar w-[3px] bg-zinc-500 rounded-sm h-1"></div>
                            <div class="heartbeat-bar w-[3px] bg-zinc-500 rounded-sm h-1"></div>
                            <div class="heartbeat-bar w-[3px] bg-zinc-500 rounded-sm h-1"></div>
                            {{end}}
                        </div>
                    </div>

                    <div class="flex-1 min-w-0">
                        <h1 class="text-xl font-bold tracking-tight truncate">{{.Server.Name}}</h1>
                        <div class="flex items-center gap-2 mt-1 flex-wrap">
                            <!-- Status badge -->
                            {{if eq $statusClass "running"}}
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide bg-green-500/15 text-green-500">{{$statusText}}</span>
                            {{else if or (eq $statusClass "starting") (eq $statusClass "stopping") (eq $statusClass "restarting")}}
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide bg-yellow-500/15 text-yellow-500">{{$statusText}}</span>
                            {{else if eq $statusClass "error"}}
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide bg-red-500/15 text-red-500">{{$statusText}}</span>
                            {{else if eq $statusClass "unhealthy"}}
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide bg-purple-500/15 text-purple-500">{{$statusText}}</span>
                            {{else if eq $statusClass "creating"}}
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide bg-blue-500/15 text-blue-500">{{$statusText}}</span>
                            {{else}}
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide bg-zinc-500/15 text-muted-foreground">{{$statusText}}</span>
                            {{end}}

                            <!-- Version tag -->
                            {{if .Server.ServerVersion}}
                            <span class="inline-flex items-center px-2 py-1 bg-blue-500/10 border border-blue-500/20 rounded-md text-[11px] font-medium text-blue-500 font-mono">{{.Server.ServerVersion}}</span>
                            {{else if .Server.McVersion}}
                            <span class="inline-flex items-center px-2 py-1 bg-blue-500/10 border border-blue-500/20 rounded-md text-[11px] font-medium text-blue-500 font-mono">{{.Server.McVersion}}</span>
                            {{end}}

                            <!-- Mod loader tag -->
                            {{if .ModLoaderInfo}}
                            <span class="inline-flex items-center px-2 py-1 bg-purple-500/10 border border-purple-500/20 rounded-md text-[11px] font-medium text-purple-500">{{.ModLoaderInfo.DisplayName}}</span>
                            {{end}}

                            <!-- Java version tag -->
                            {{if gt .Server.JavaVersion 0}}
                            <span class="inline-flex items-center px-2 py-1 bg-amber-500/10 border border-amber-500/20 rounded-md text-[11px] font-medium text-amber-500">Java {{.Server.JavaVersion}}</span>
                            {{end}}
                        </div>
                    </div>

                    <!-- Server Favicon -->
                    {{if .Server.Favicon}}
                    <div class="flex-shrink-0">
                        <img src="{{.Server.Favicon}}" alt="Server Icon" class="w-12 h-12 rounded-lg border border-border shadow-sm" style="image-rendering: pixelated;">
                    </div>
                    {{end}}
                </div>
            </div>

            <!-- MOTD -->
            {{if and .Server.Motd (ne .Server.Motd "")}}
            <div class="px-6 py-3 bg-muted/50 border-b border-border">
                <p class="text-sm text-muted-foreground text-center italic">"{{.Server.Motd}}"</p>
            </div>
            {{end}}

            <!-- Modpack Info -->
            {{if .Modpack}}
            <div class="px-4 py-4 border-b border-border">
                <div class="flex items-start gap-3">
                    {{if .Modpack.LogoUrl}}
                    <div class="flex-shrink-0">
                        <img src="{{.Modpack.LogoUrl}}" alt="{{.Modpack.Name}}" class="w-14 h-14 rounded-lg object-cover border border-border shadow-sm">
                    </div>
                    {{end}}
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 flex-wrap">
                            <h3 class="text-sm font-semibold text-foreground truncate">{{.Modpack.Name}}</h3>
                            {{if .ModpackVersion}}
                            <span class="inline-flex items-center px-1.5 py-0.5 bg-cyan-500/10 border border-cyan-500/20 rounded text-[10px] font-medium text-cyan-500 font-mono">v{{.ModpackVersion}}</span>
                            {{else}}
                            <span class="inline-flex items-center px-1.5 py-0.5 bg-emerald-500/10 border border-emerald-500/20 rounded text-[10px] font-medium text-emerald-500">Latest</span>
                            {{end}}
                        </div>
                        {{if .Modpack.Summary}}
                        <p class="text-xs text-muted-foreground mt-1 line-clamp-2">{{.Modpack.Summary}}</p>
                        {{end}}
                        {{if .Modpack.WebsiteUrl}}
                        <a href="{{.Modpack.WebsiteUrl}}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1 mt-2 text-[11px] font-medium text-blue-500 hover:text-blue-400 transition-colors">
                            <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                            </svg>
                            Download Modpack
                        </a>
                        {{end}}
                    </div>
                </div>
            </div>
            {{end}}

            <!-- Stats Grid -->
            <div class="p-4">
                <div class="grid grid-cols-2 gap-3">
                    <!-- TPS -->
                    <div class="group bg-muted/50 hover:bg-muted border border-border hover:border-white/10 rounded-xl p-3.5 transition-all duration-200">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-[11px] font-semibold uppercase tracking-wider text-muted-foreground/70">TPS</span>
                            <span class="text-xs font-semibold font-mono {{if ge .Server.Tps 18.0}}text-green-500{{else if ge .Server.Tps 15.0}}text-yellow-500{{else if gt .Server.Tps 0.0}}text-red-500{{else}}text-muted-foreground{{end}}">
                                {{if gt .Server.Tps 0.0}}{{printf "%.1f" .Server.Tps}} / 20{{else}}-{{end}}
                            </span>
                        </div>
                        <div class="h-1.5 bg-gradient-to-r from-muted/50 to-muted/30 rounded-full overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full transition-all duration-700 relative" style="width: {{if gt .Server.Tps 0.0}}{{printf "%.0f" (mul (div .Server.Tps 20.0) 100)}}{{else}}0{{end}}%">
                                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"></div>
                            </div>
                        </div>
                    </div>

                    <!-- CPU -->
                    <div class="group bg-muted/50 hover:bg-muted border border-border hover:border-white/10 rounded-xl p-3.5 transition-all duration-200">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-[11px] font-semibold uppercase tracking-wider text-muted-foreground/70">CPU</span>
                            <span class="text-xs font-semibold font-mono text-blue-500">{{printf "%.1f" .Server.CpuPercent}}%</span>
                        </div>
                        <div class="h-1.5 bg-gradient-to-r from-muted/50 to-muted/30 rounded-full overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full transition-all duration-700 relative" style="width: {{if gt .Server.CpuPercent 100.0}}100{{else}}{{printf "%.0f" .Server.CpuPercent}}{{end}}%">
                                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Memory -->
                    <div class="group bg-muted/50 hover:bg-muted border border-border hover:border-white/10 rounded-xl p-3.5 transition-all duration-200">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-[11px] font-semibold uppercase tracking-wider text-muted-foreground/70">Memory</span>
                            <span class="text-xs font-semibold font-mono text-orange-500">{{.MemoryUsedMB}} / {{.Server.Memory}} MB</span>
                        </div>
                        <div class="h-1.5 bg-gradient-to-r from-muted/50 to-muted/30 rounded-full overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full transition-all duration-700 relative" style="width: {{.MemoryPercent}}%">
                                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Storage -->
                    <div class="group bg-muted/50 hover:bg-muted border border-border hover:border-white/10 rounded-xl p-3.5 transition-all duration-200">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-[11px] font-semibold uppercase tracking-wider text-muted-foreground/70">Storage</span>
                            <span class="text-xs font-semibold font-mono text-purple-500">{{.DiskUsedFormatted}}</span>
                        </div>
                        <div class="h-1.5 bg-gradient-to-r from-muted/50 to-muted/30 rounded-full overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-700 relative" style="width: {{.DiskPercent}}%">
                                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Players Section -->
            <div class="px-4 pb-4">
                <div class="flex items-center justify-between mb-2.5">
                    <span class="text-[11px] font-semibold uppercase tracking-wider text-muted-foreground/70">Players Online</span>
                    <span class="text-xs font-semibold font-mono text-indigo-500">{{.Server.PlayersOnline}} / {{if .Server.MaxPlayersSlp}}{{.Server.MaxPlayersSlp}}{{else}}{{.Server.MaxPlayers}}{{end}}</span>
                </div>
                {{if gt (len .Server.PlayerSample) 0}}
                <div class="flex flex-wrap gap-1.5">
                    {{range .Server.PlayerSample}}
                    <div class="group inline-flex items-center gap-1.5 px-2 py-1 bg-indigo-500/10 border border-indigo-500/20 rounded-md hover:bg-indigo-500/15 hover:border-indigo-500/30 transition-all duration-200">
                        <img class="w-4 h-4 rounded-sm" src="https://mc-heads.net/avatar/{{.}}/16" alt="{{.}}" onerror="this.style.display='none'">
                        <span class="text-[11px] font-medium text-foreground/80">{{.}}</span>
                    </div>
                    {{end}}
                </div>
                {{else if eq .Server.PlayersOnline 0}}
                <p class="text-xs text-muted-foreground/70 italic">No players online</p>
                {{else}}
                <p class="text-xs text-muted-foreground/70 italic">{{.Server.PlayersOnline}} player{{if gt .Server.PlayersOnline 1}}s{{end}} online</p>
                {{end}}
            </div>

            <!-- Footer -->
            <div class="px-6 py-3.5 bg-muted/50 border-t border-border flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <svg class="w-4 h-4 text-muted-foreground/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                    </svg>
                    <span class="text-sm font-medium font-mono text-muted-foreground">{{if .Server.ProxyHostname}}{{.Server.ProxyHostname}}{{if ne .Server.ProxyPort 25565}}:{{.Server.ProxyPort}}{{end}}{{else}}Port {{.Server.Port}}{{end}}</span>
                </div>
                {{if and .Server.SlpAvailable (gt .Server.SlpLatencyMs 0)}}
                <div class="inline-flex items-center gap-1.5 px-2 py-1 bg-green-500/10 border border-green-500/20 rounded-md">
                    <span class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse-dot"></span>
                    <span class="text-[11px] font-medium font-mono text-green-500">{{.Server.SlpLatencyMs}}ms</span>
                </div>
                {{end}}
            </div>

            {{else}}
            <!-- Loading State -->
            <div class="relative p-6 border-b border-border">
                <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-zinc-500 to-zinc-400"></div>
                <div class="flex items-start gap-4">
                    <div class="flex-shrink-0 w-12 h-12 rounded-xl bg-gradient-to-br from-zinc-500/20 to-zinc-400/20 flex items-center justify-center relative">
                        <div class="absolute inset-0 rounded-xl bg-zinc-500/20 blur-xl"></div>
                        <div class="flex items-center gap-0.5 h-6 relative">
                            <div class="heartbeat-bar w-[3px] bg-zinc-500 rounded-sm h-1"></div>
                            <div class="heartbeat-bar w-[3px] bg-zinc-500 rounded-sm h-1"></div>
                            <div class="heartbeat-bar w-[3px] bg-zinc-500 rounded-sm h-1"></div>
                            <div class="heartbeat-bar w-[3px] bg-zinc-500 rounded-sm h-1"></div>
                            <div class="heartbeat-bar w-[3px] bg-zinc-500 rounded-sm h-1"></div>
                        </div>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h1 class="text-xl font-bold tracking-tight truncate">{{.Title}}</h1>
                        <div class="flex items-center gap-2 mt-1 flex-wrap">
                            <span class="inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-semibold uppercase tracking-wide bg-zinc-500/15 text-muted-foreground">Loading</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-12 text-center">
                <div class="w-10 h-10 mx-auto mb-4 border-3 border-border border-t-blue-500 rounded-full animate-spin"></div>
                <p class="text-sm text-muted-foreground">Connecting to server...</p>
            </div>
            {{end}}
        </div>

        <!-- Powered by Discopanel Tab -->
        <a href="https://github.com/nickheyer/discopanel" target="_blank" rel="noopener noreferrer"
           class="powered-tab absolute -bottom-3.5 right-6 z-0 flex items-center gap-1.5 px-3 pb-1.5 pt-5 bg-muted/80 border border-border border-t-0 rounded-b-lg transition-all duration-200 hover:bg-muted group"
           style="box-shadow: inset 0 10px 16px -4px rgba(0,0,0,0.5);">
            <svg class="w-4 h-4 text-muted-foreground group-hover:text-foreground transition-colors" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <defs>
                    <pattern id="grass" x="8" y="8" width="4" height="4" patternUnits="userSpaceOnUse">
                        <path fill="#5a5" d="M0 0h4v4H0z"/>
                        <path fill="#3c7f3c" d="M0 0h2v2H0z"/>
                        <path fill="#8b5e3c" d="M2 2h2v2H2z"/>
                    </pattern>
                </defs>
                <path d="m12 20v2M12 2v2m5 16v2M17 2V4M2 12H4M2 17H4M2 7h2m16 5h2m-2 5h2M20 7h2M7 20v2M7 2v2"/>
                <rect x="4" y="4" width="16" height="16" rx="2"/>
                <rect x="8" y="8" width="8" height="8" rx="1" fill="url(#grass)"/>
            </svg>
            <span class="text-[10px] font-medium text-muted-foreground group-hover:text-foreground transition-colors whitespace-nowrap">Powered by Discopanel</span>
        </a>
        </div>
    </div>
</body>
</html>
